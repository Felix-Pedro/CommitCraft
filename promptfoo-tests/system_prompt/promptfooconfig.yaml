# Learn more about building a configuration: https://promptfoo.dev/docs/configuration/guide
description: "Testing CommitCraft Capabilities in multiple popular repositories"

prompts:
  - file://prompt1.json
  - file://prompt2.json

providers:
  - id: "ollama:completion:gemma2"
    config:
      num_ctx: 49152

defaultTest:
  assert:
    # Prefer shorter outputs
    - type: python
      value: len(output) < 512
    - type: not-icontains-any
      value:
        - "questions"
        - "ask"
        - "feel free"
        - "I am"
        - "as an ai"
        - "provided diff"
        - "Let me"
    - type: contains-any
      value:
        - "ðŸŽ¨"
        - "âš¡ï¸"
        - "ðŸ”¥"
        - "ðŸ›"
        - "ðŸš‘ï¸"
        - "âœ¨"
        - "ðŸ“"
        - "ðŸš€"
        - "ðŸ’„"
        - "ðŸŽ‰"
        - "âœ…"
        - "ðŸ”’ï¸"
        - "ðŸ”"
        - "ðŸ”–"
        - "ðŸš¨"
        - "ðŸš§"
        - "ðŸ’š"
        - "â¬‡ï¸"
        - "â¬†ï¸"
        - "ðŸ“Œ"
        - "ðŸ‘·"
        - "ðŸ“ˆ"
        - "â™»ï¸"
        - "âž•"
        - "âž–"
        - "ðŸ”§"
        - "ðŸ”¨"
        - "ðŸŒ"
        - "âœï¸"
        - "ðŸ’©"
        - "ï¸âªï¸"
        - "ðŸ”€"
        - "ðŸ“¦ï¸"
        - "ðŸ‘½ï¸"
        - "ðŸšš"
        - "ðŸ“„"
        - "ðŸ’¥"
        - "ðŸ±"
        - "â™¿ï¸"
        - "ðŸ’¡"
        - "ðŸ»"
        - "ðŸ’¬"
        - "ðŸ—ƒï¸"
        - "ðŸ”Š"
        - "ðŸ”‡"
        - "ðŸ‘¥"
        - "ðŸš¸"
        - "ðŸ—ï¸"
        - "ðŸ“±"
        - "ðŸ¤¡"
        - "ðŸ¥š"
        - "ðŸ™ˆ"
        - "ðŸ“¸"
        - "âš—ï¸"
        - "ðŸ”ï¸"
        - "ðŸ·ï¸"
        - "ðŸŒ±"
        - "ðŸš©"
        - "ðŸ¥…"
        - "ðŸ’«"
        - "ðŸ—‘ï¸"
        - "ðŸ›‚"
        - "ðŸ©¹"
        - "ðŸ§"
        - "âš°ï¸"
        - "ðŸ§ª"
        - "ðŸ‘”"
        - "ðŸ©º"
        - "ðŸ§±"
        - "ðŸ§‘â€ðŸ’»"
        - "ðŸ’¸"
        - "ðŸ§µ"
        - "ðŸ¦º"

tests: file://../test_repos_data.csv
